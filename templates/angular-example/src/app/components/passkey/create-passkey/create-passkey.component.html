@if (progress.state === 'init') {
  <p>
    First time here? Use your device (Face ID, Windows Hello, or screen lock) to get in.
  </p>

  <app-button (click)="goToSetup()">Create a new passkey</app-button>
}

@if (progress.state === 'setup') {
  <p>Want to give it a nickname so you'll spot it easily later?</p>

  <input
    class="mx-0 mt-2 mb-6 block w-full resize-none rounded-sm border-[3px] border-black bg-white px-3 py-1.5 text-base font-normal shadow-[5px_5px_0px_rgba(0,0,0,1)] focus:outline-hidden"
    placeholder="An optional nickname"
    [value]="passkeyDisplayName()"
    (input)="onInputChange()"
    #inputText
  />

  <app-button (click)="doSignUp()">Create now</app-button>
}

@if (progress.state === 'progress') {
  <app-progress>
    @if (progress.detail.step === WebAuthnSignUpProgressStep.CreatingUserCredential) {
      <span>Creating user credential...</span>
    }
    @if (progress.detail.step === WebAuthnSignUpProgressStep.ValidatingUserCredential) {
      <span>Validating user credential...</span>
    }
    @if (progress.detail.step === WebAuthnSignUpProgressStep.FinalizingCredential) {
      <span>Finalizing credential...</span>
    }
    @if (progress.detail.step === WebAuthnSignUpProgressStep.Signing) {
      <span>Signing request...</span>
    }
    @if (progress.detail.step === WebAuthnSignUpProgressStep.FinalizingSession) {
      <span>Finalizing session...</span>
    }
    @if (progress.detail.step === WebAuthnSignUpProgressStep.RegisteringUser) {
      <span>Registering user...</span>
    }
  </app-progress>
}
